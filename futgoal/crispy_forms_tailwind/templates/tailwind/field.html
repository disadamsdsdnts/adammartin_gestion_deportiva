{% load crispy_forms_field %}

{% if field.is_hidden %}
  {{ field }}
{% else %}
  <div id="div_{{ field.auto_id }}" class="mb-4">
    {% if field.label %}
      <label for="{{ field.auto_id }}" class="block mb-2 text-sm font-medium text-gray-900 dark:text-white">
        {{ field.label }}{% if field.field.required %}
          <span class="text-red-500">*</span>
        {% endif %}
      </label>
    {% endif %}

    <div class="relative">
      {% crispy_field field %}

      {% if field.help_text %}
        <div class="mt-1 text-sm text-gray-500 dark:text-gray-400">{{ field.help_text }}</div>
      {% endif %}

      {% if field.errors %}
        {% for error in field.errors %}
          <p class="mt-1 text-sm text-red-600 dark:text-red-500">{{ error }}</p>
        {% endfor %}
      {% endif %}
    </div>
  </div>
{% endif %}
